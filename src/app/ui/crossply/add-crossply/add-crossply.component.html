<div class="parent-flex-center-child">
    <div class="add-crossply-container">
        <h1 class="add-crossply-header">Add Crossply</h1>
        <form [formGroup]="addCrossplyFormGroup" (ngSubmit)="onSubmit()">
        <div class="crossply-container">
          <mat-form-field appearance="fill">
            <mat-label>Choose Location</mat-label>
            <mat-select formControlName="crossplyLocationId" placeholder="Select Crossply location" required>
                <mat-option *ngFor="let location of locationList" value="{{location.id}}">{{location.name}}</mat-option>
               
            </mat-select>                 
          </mat-form-field>
          <mat-form-field>
            <mat-label>Choose Color</mat-label>
            <mat-select formControlName="crossplyColorId" required>
                <mat-option *ngFor="let color of crossplyColorList" value="{{color.id}}">{{color.name}}</mat-option>
               
            </mat-select>      
            @if (crossplyColorIdControl.hasError('required')){
                <mat-error>Please choose Crossply Color</mat-error>
            }                    
          </mat-form-field>  
          <mat-form-field>
            <mat-label>Choose Width</mat-label>
            <mat-select formControlName="crossplyWidthId" required>
                <mat-option *ngFor="let width of widthList" value="{{width.id}}">{{width.name}}</mat-option>
                <mat-option value="93">93</mat-option>
            </mat-select>  
            @if (!addCrossplyFormGroup.get('crossplyWidthId')?.valid){
                <mat-error>Please choose Crossply Width</mat-error>
            }               
          </mat-form-field> 
          <mat-form-field class="extruder-form" appearance="fill">
            <mat-label>Roll Number</mat-label>
            <input formControlName="crossplyRollNumber" matInput placeholder="Roll Number">
            <mat-hint>Existing Roll Number</mat-hint>
        </mat-form-field>
        <mat-form-field class="extruder-form" appearance="fill">
            <mat-label>Enter Length</mat-label>
            <input formControlName="crossplyLength" type="number" min="0" max="999999" matInput
                placeholder="Length" required>
            <mat-hint>Length in number ex: 322</mat-hint>
        </mat-form-field>
        <mat-form-field class="extruder-form" appearance="fill">
            <mat-label>Enter Weight</mat-label>
            <input formControlName="crossplyWeight" type="number" min="0" max="999999" matInput
                placeholder="Weight" required>
            <mat-hint>Weight in number ex: 200</mat-hint>
        </mat-form-field>
    </div>    
        <div class="crossply-submit-createdBy">
            <mat-form-field class="crossplySubmittedBy">
                <mat-label>Submitted By</mat-label>
                <mat-select formControlName="crossplyCreatedById" required>
                    <mat-option *ngFor="let user of userList"  value={{user.id}}>{{user.email}} - {{user.firstname}} {{user.lastname}}</mat-option>
                   
                </mat-select>
              </mat-form-field>  
            <mat-form-field class="crossplyComment">
                <mat-label>Leave a comment</mat-label>
                <textarea #comments rows="2" formControlName="crossplyComment" matInput placeholder="..."></textarea>
                <mat-hint align="end">{{comments.value.length}}/500</mat-hint>
            </mat-form-field>           
        </div>
        <div class="extruder-container">            
            <div class="colorzeroninety-container">
                <h2 class="add-crossply-header">Color #0 Details</h2>
                <div class="colorzero-color-width">
                    <mat-form-field class="crossply-field-small">
                        <mat-label>Choose Color</mat-label>
                        <mat-select formControlName="colorZeroColorId" required>
                            <mat-option *ngFor="let color of extruderColorList" value="{{color.id}}">{{color.name}}</mat-option>
                           
                        </mat-select>                 
                      </mat-form-field>  
                      <mat-form-field class="crossply-field-small">
                        <mat-label>Choose Width</mat-label>
                        <mat-select formControlName="colorZeroWidthId" required>
                            <mat-option *ngFor="let width of widthList" value="{{width.id}}">{{width.name}}</mat-option>
                            <mat-option value="93">93</mat-option>
                        </mat-select>                 
                      </mat-form-field> 
                </div>                
                  <button class="add-crossply-btn" mat-raised-button (click)="fetchRollNumberColorZero()"><mat-icon class="iconStyle">add_circle</mat-icon>Fetch Roll Number Color #0</button>
                  <mat-form-field class="crossply-rollnumber" appearance="fill">
                    <mat-label>Choose Color #0 Roll Number</mat-label>
                    <mat-select formControlName="colorZeroRollNumber" required>
                        <mat-option *ngFor="let color of colorZeroRollNumberList" value="{{color.id}}">{{color.name}}</mat-option>
                       
                    </mat-select>                 
                  </mat-form-field>  
                </div>
            <div class="colorzeroninety-container">
                <h2 class="add-crossply-header">Color #90 Details</h2>  
                <div class="colorzero-color-width">
                    <mat-form-field class="crossply-field-small">
                        <mat-label>Choose Color</mat-label>
                        <mat-select formControlName="colorNinetyColorId" required>
                            <mat-option *ngFor="let color of extruderColorList" value="{{color.id}}">{{color.name}}</mat-option>
                           
                        </mat-select>                 
                      </mat-form-field>  
                      <mat-form-field class="crossply-field-small">
                        <mat-label>Choose Width</mat-label>
                        <mat-select formControlName="colorNinetyWidthId" required>
                            <mat-option *ngFor="let width of widthList" value="{{width.id}}">{{width.name}}</mat-option>
                            <mat-option value="93">93</mat-option>
                        </mat-select>                 
                      </mat-form-field> 
                </div>             
               
                  <button class="add-crossply-btn" mat-raised-button color="accent" (click)="fetchRollNumberColorNinety()"><mat-icon class="iconStyle">add_circle</mat-icon>Fetch Roll Number Color #90</button>
                  <mat-form-field class="crossply-rollnumber">
                    <mat-label>Color #90 Roll Number</mat-label>
                    <mat-select formControlName="colorNinetyRollNumber" required>
                        <mat-option *ngFor="let color of colorNinetyRollNumberList" value="{{color.id}}">{{color.name}}</mat-option>
                       
                    </mat-select>                 
                  </mat-form-field>  
            </div>
        </div>
        <div class="crossply-buttons-container">    
            <button mat-raised-button color="accent" (click)="clearFormValues()">Clear</button>
            <button class="btn-submit-style" mat-raised-button color="warn"  [disabled]="addCrossplyFormGroup?.valid" type="submit">Add Crossply</button>
        </div>
        </form>
    </div>
</div>
